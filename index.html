<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â¿Vamos a ver Avatar 3?</title>
    <link rel="stylesheet" href="estilos.css" />
  </head>
  <body>
    <div class="background"></div>

    <!-- partÃ­culas -->
    <script>
      for (let i = 0; i < 40; i++) {
        const dot = document.createElement("div");
        dot.className = "floating";
        dot.style.left = Math.random() * 100 + "vw";
        dot.style.animationDuration = 5 + Math.random() * 6 + "s";
        document.body.appendChild(dot);
      }
    </script>

    <div class="container">
      <h1>ğŸ’™ Mi Amor ğŸ’™</h1>
      <p>
        <br /><br />
        Â¿Te gustarÃ­a ir conmigo a ver <strong>Avatar 3</strong>?
      </p>

      <div class="buttons">
        <button id="yes">Por supuesto, mi amor ğŸ’«</button>
        <button id="no">No ğŸ™ƒ</button>
      </div>

      <!-- Popup personalizado -->
      <div id="popup" class="popup" style="display: none">
        <div class="popup-content">
          <span id="closePopup" class="close-popup">&times;</span>
          <p>ğŸ’™ no tenias otra opciÃ³n pinche marrana jahdjash ğŸ’™</p>
          <img src="cansada.jpg" alt="Cansada" style="margin-top:15px;max-width:320px;width:220px;height:auto;display:block;margin-left:auto;margin-right:auto;border-radius:12px;box-shadow:0 2px 10px #00f0ff44;" />

          <hr />
          <p>Dale a la âŒ</p>
        </div>
      </div>

      <div id="message" class="message">
        ğŸŒŒğŸ’™âœ¨ SabÃ­a que dirÃ­as que sÃ­ âœ¨ğŸ’™ğŸŒŒ
        <br />
        No tenÃ­as otra opciÃ³n, pinche marrana kjahsjah
      </div>
    </div>

    <script>
      const noBtn = document.getElementById("no");
      const yesBtn = document.getElementById("yes");
      const message = document.getElementById("message");


      // --- LÃ“GICA DE MOVIMIENTO MEJORADA ---
      let moveCount = 0;
      function moveNoBtn() {
        // 1. Obtener dimensiones de la ventana (Viewport)
        const windowWidth = window.innerWidth;
        const windowHeight = window.innerHeight;

        // 2. Obtener dimensiones del botÃ³n para evitar que se salga
        const btnWidth = noBtn.offsetWidth;
        const btnHeight = noBtn.offsetHeight;

        // 3. Calcular nueva posiciÃ³n aleatoria
        // Restamos el tamaÃ±o del botÃ³n para asegurar que quede dentro
        const randomX = Math.random() * (windowWidth - btnWidth);
        const randomY = Math.random() * (windowHeight - btnHeight);

        // 4. Aplicar estilos
        noBtn.style.position = "fixed"; // Sacamos el botÃ³n del flujo normal
        noBtn.style.left = `${randomX}px`;
        noBtn.style.top = `${randomY}px`;

        // 5. Efecto de reducciÃ³n y desapariciÃ³n tras varios movimientos
        moveCount++;
        noBtn.style.transform = `scale(${1 - moveCount * 0.18})`;
        if (moveCount >= 5) {
          noBtn.style.display = "none";
          yesBtn.classList.add("shine");
        }
      }


      // Unificar eventos para mouse y touch usando pointerdown (mÃ¡s robusto y moderno)
      noBtn.addEventListener("pointerover", moveNoBtn);
      noBtn.addEventListener("pointerdown", function (e) {
        // Solo prevenir si es touch
        if (e.pointerType === "touch") e.preventDefault();
        moveNoBtn();
      });

      const popup = document.getElementById("popup");
      const closePopup = document.getElementById("closePopup");
      let whatsappUrl = "";

      yesBtn.addEventListener("click", () => {
        const mensaje = encodeURIComponent(
          "Â¡Hola mi amor, mi dueÃ±o, mi hombre, mi vida, mi todo! Ya vi tu invitaciÃ³n para ver Avatar 3 y claro que quiero ir contigo"
        );
        whatsappUrl = `https://wa.me/3042225380?text=${mensaje}`;
        popup.style.display = "flex";
      });

      closePopup.addEventListener("click", () => {
        popup.style.display = "none";
        if (whatsappUrl) {
          window.open(whatsappUrl, "_blank");
          whatsappUrl = "";
        }
      });
    </script>
  </body>
</html>
